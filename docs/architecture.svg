<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="800" viewBox="0 0 1200 800">
  <style>
    .box { fill: #fff; stroke: #2b6cb0; stroke-width: 1.5px; rx: 8px; }
    .panel { fill: #f8fafc; stroke: #cbd5e1; }
    .label { font-family: Inter, Arial, sans-serif; font-size: 14px; fill: #0f172a; }
    .title { font-weight: 700; font-size: 16px; fill: #0f172a; }
    .arrow { stroke: #94a3b8; stroke-width: 1.2px; marker-end: url(#arrow); }
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0 0 L10 5 L0 10 z" fill="#94a3b8" />
    </marker>
  </defs>

  <!-- Frontend -->
  <rect x="40" y="40" width="260" height="120" class="panel" rx="10" />
  <text x="60" y="70" class="title">Frontend</text>
  <text x="60" y="95" class="label">SPA (Chat UI / Metrics)</text>

  <!-- API -->
  <rect x="360" y="40" width="300" height="140" class="box" rx="10" />
  <text x="380" y="70" class="title">API / App (FastAPI)</text>
  <text x="380" y="95" class="label">/chat, /metrics, /facts, /conversations</text>

  <!-- Workers & LLM -->
  <rect x="720" y="40" width="420" height="120" class="panel" rx="10" />
  <text x="740" y="70" class="title">Workers & LLM</text>
  <text x="740" y="95" class="label">Ingest, embeddings, LLM adapter, background tasks</text>

  <!-- Data stores -->
  <rect x="360" y="220" width="420" height="180" class="panel" rx="10" />
  <text x="380" y="250" class="title">Data Stores</text>
  <text x="380" y="278" class="label">Postgres + pgvector (prod)</text>
  <text x="380" y="300" class="label">SQLite (dev), Object storage (S3/MinIO)</text>

  <!-- External -->
  <rect x="820" y="240" width="240" height="120" class="panel" rx="10" />
  <text x="840" y="270" class="title">External</text>
  <text x="840" y="295" class="label">LLM Providers (OpenAI) & Market Data</text>

  <!-- arrows -->
  <line x1="300" y1="100" x2="360" y2="100" class="arrow" />
  <line x1="660" y1="100" x2="720" y2="100" class="arrow" />
  <line x1="510" y1="180" x2="510" y2="220" class="arrow" />
  <line x1="720" y1="140" x2="720" y2="220" class="arrow" />
  <line x1="780" y1="260" x2="820" y2="260" class="arrow" />

  <!-- footer notes -->
  <text x="40" y="460" class="label">Deployment notes: Use reverse proxy (NGINX/Traefik), CI/CD (GitHub Actions), monitoring (Prometheus/Grafana), and secrets manager for credentials.</text>

</svg>
