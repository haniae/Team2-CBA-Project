:root {
  --navy: #0b2e59;
  --accent: #1c7ed6;
  --orange: #ff7f0e;
  --muted: #5b6b82;
  --grid: #dce4f4;
  --bg: #f3f7fc;
  --card: #ffffff;
  --shadow: 0 6px 18px rgba(11, 46, 89, 0.08);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--navy);
  font: 12px "Inter", "Open Sans", Roboto, system-ui, -apple-system, "Segoe UI";
}

#cfi-root {
  max-width: 1280px;
  margin: 18px auto 24px;
  padding: 16px 18px 24px;
  display: grid;
  grid-gap: 12px;
  grid-template-columns: repeat(12, 1fr);
  grid-template-rows: auto 166px 320px 260px;
  grid-template-areas:
    "header header header header header header header header header header header header"
    "overview overview overview overview overview overview valuation valuation valuation valuation valuation valuation"
    "keyfin keyfin keyfin keyfin keyfin keyfin keyfin keyfin pricechart pricechart pricechart pricechart"
    "rev rev rev rev ebitda ebitda ebitda ebitda valbar valbar valbar valbar";
  background: #ffffff;
  border-radius: 8px;
  border: 1px solid var(--grid);
  box-shadow: 0 10px 24px rgba(11, 46, 89, 0.06);
}

.cfi-panel {
  background: var(--card);
  border: 1px solid var(--grid);
  border-radius: 8px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.cfi-panel[data-area="header"] {
  grid-area: header;
}

.cfi-panel[data-area="overview"] {
  grid-area: overview;
}

.cfi-panel[data-area="valuation"] {
  grid-area: valuation;
}

.cfi-panel[data-area="keyfin"] {
  grid-area: keyfin;
}

.cfi-panel[data-area="pricechart"] {
  grid-area: pricechart;
}

.cfi-panel[data-area="rev"] {
  grid-area: rev;
}

.cfi-panel[data-area="ebitda"] {
  grid-area: ebitda;
}

.cfi-panel[data-area="valbar"] {
  grid-area: valbar;
}

.cfi-header {
  padding: 16px 20px 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.header-top {
  display: grid;
  grid-template-columns: 240px 1fr 180px;
  align-items: center;
  gap: 18px;
}

.brand-stack {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.brand-row {
  display: flex;
  align-items: baseline;
  gap: 10px;
}

.brand-badge {
  position: relative;
  font-size: 24px;
  font-weight: 800;
  text-transform: lowercase;
  letter-spacing: 0.4px;
  color: var(--navy);
  padding-bottom: 2px;
}

.brand-badge::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 42px;
  height: 3px;
  background: var(--orange);
  border-radius: 2px;
}

.brand-ticker {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.45px;
  color: var(--muted);
}

.brand-company {
  font-size: 12px;
  font-weight: 600;
  color: var(--navy);
}

.header-title h1 {
  margin: 0 0 6px;
  font-size: 20px;
  font-weight: 800;
  letter-spacing: 0.3px;
  color: var(--navy);
}

.header-meta {
  display: flex;
  gap: 18px;
}

.meta-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.meta-label {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  color: var(--muted);
}

.meta-value {
  font-size: 14px;
  font-weight: 700;
  color: var(--navy);
}

.header-side {
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: flex-end;
}

.cfi-logo {
  font-size: 24px;
  font-weight: 800;
  color: var(--navy);
  letter-spacing: 0.6px;
}

.header-subline {
  display: flex;
  gap: 16px;
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 0.2px;
  padding-top: 6px;
  border-top: 1px solid #e9eef9;
}

.header-subline span + span::before {
  content: "•";
  margin: 0 6px;
  color: var(--grid);
}

.pill {
  display: inline-block;
  padding: 2px 10px;
  border-radius: 12px;
  background: rgba(28, 126, 214, 0.1);
  border: 1px solid rgba(28, 126, 214, 0.25);
  color: var(--navy);
}

.cfi-strip {
  height: 26px;
  background: var(--navy);
  color: #ffffff;
  font: 700 11px/26px "Inter", "Open Sans", Roboto;
  text-transform: uppercase;
  letter-spacing: 0.35px;
  padding: 0 10px;
}

.cfi-body {
  padding: 10px 12px;
}

.cfi-body.tight {
  padding: 8px 10px;
}

.plot {
  width: 100%;
  height: 220px;
}

.overview-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

.overview-column {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.overview-column h3 {
  margin: 0;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.25px;
  color: var(--navy);
}

.overview-table {
  width: 100%;
  border-collapse: collapse;
  font: 500 12px/20px "Inter", "Open Sans", Roboto;
}

.overview-table tr + tr td {
  border-top: 1px solid #e8effa;
}

.overview-table .kv-label {
  color: var(--muted);
  text-transform: capitalize;
}

.overview-table .kv-value {
  text-align: right;
  font-variant-numeric: tabular-nums lining-nums;
  color: var(--navy);
}

.valuation-grid {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 200px;
  gap: 16px;
}

.valuation-table {
  width: 100%;
  border-collapse: collapse;
  font: 500 12px/20px "Inter", "Open Sans", Roboto;
}

.valuation-table thead th {
  background: #f3f6ff;
  border-bottom: 1px solid var(--grid);
  padding: 6px 8px;
  text-align: right;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.valuation-table thead th:first-child {
  text-align: left;
}

.valuation-table td {
  padding: 6px 8px;
  border-bottom: 1px solid #eef2fb;
  text-align: right;
  font-variant-numeric: tabular-nums lining-nums;
}

.valuation-table td:first-child {
  text-align: left;
  font-weight: 600;
  color: #243554;
}

.valuation-list {
  list-style: none;
  margin: 0;
  padding: 8px 0 0 16px;
  font: 500 12px/18px "Inter", "Open Sans", Roboto;
  color: var(--muted);
  border-left: 1px solid var(--grid);
}

.valuation-list li {
  position: relative;
  padding: 2px 0;
}

.valuation-list li::before {
  content: "•";
  position: absolute;
  left: -12px;
  color: var(--navy);
}

.cfi-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  table-layout: fixed;
  font: 500 12px/22px "Inter", "Open Sans", Roboto;
}

.cfi-table colgroup col:first-child {
  width: 220px;
}

.cfi-table thead th {
  position: sticky;
  top: 0;
  z-index: 2;
  background: #f3f6ff;
  color: var(--navy);
  border-bottom: 1px solid var(--grid);
  font: 700 11px/26px "Inter", "Open Sans", Roboto;
  text-align: right;
  padding: 0 8px;
}

.cfi-table thead th:first-child {
  position: sticky;
  left: 0;
  text-align: left;
  z-index: 3;
}

.cfi-table tbody td {
  border-bottom: 1px solid #eef2fb;
  padding: 0 8px;
  height: 22px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.cfi-table tbody tr:nth-child(even) {
  background: #f9fbff;
}

.cfi-table .metric {
  position: sticky;
  left: 0;
  background: inherit;
  font-weight: 600;
  color: #243554;
}

.cfi-table .num {
  text-align: right;
  font-variant-numeric: tabular-nums lining-nums;
}

@media (max-width: 1100px) {
  #cfi-root {
    grid-template-rows: auto;
    grid-template-areas:
      "header header header header header header header header header header header header"
      "overview overview overview overview overview overview valuation valuation valuation valuation valuation valuation"
      "keyfin keyfin keyfin keyfin keyfin keyfin keyfin keyfin keyfin keyfin keyfin keyfin"
      "pricechart pricechart pricechart pricechart rev rev rev rev ebitda ebitda valbar valbar";
  }

  .plot {
    height: 200px;
  }
}

@media (max-width: 768px) {
  #cfi-root {
    margin: 12px;
    padding: 12px;
    grid-template-columns: 1fr;
    grid-template-areas:
      "header"
      "overview"
      "valuation"
      "keyfin"
      "pricechart"
      "rev"
      "ebitda"
      "valbar";
  }

  .cfi-header {
    padding: 14px 14px 10px;
    gap: 10px;
  }

  .header-top {
    grid-template-columns: 1fr;
    align-items: flex-start;
  }

  .header-meta {
    flex-wrap: wrap;
    gap: 12px;
  }

  .header-side {
    align-items: flex-start;
  }

  .header-subline {
    flex-direction: column;
    gap: 4px;
  }

  .overview-grid {
    grid-template-columns: 1fr;
  }

  .valuation-grid {
    grid-template-columns: 1fr;
  }
}
